"use strict";function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var CLEARLightbox=function(e){var r,l,i,c,o,a,d,t,n,u,s,b,f,m={selector:".entry-content a",mediaTypes:"jpg|gif|png|jpeg|jfif",theme:"dark",navHeight:null,backgroundColor:null,backgroundOpacity:null,backgroundBlur:!0,contentPaddingX:0,contentPaddingY:0,framePadding:null,frameBorder:!1,frameBorderColor:"#ffffff",frameBorderWidth:12,frameBorderOpacity:100,showCounter:!0,showCaption:!0,loop:!0,escKey:!0,arrowKeys:!0,closeOnClickAway:!0,idleAfter:3e3},p=this,h=[],g={},y={},v={},_={},j=10,w=30,L=800,C={createNode:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getIndexFromSrc:function(e){for(var t=h.length,n=0;n<t;n++)if(h[n].href===e)return n},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getImageTitle:function(e){var t,n=e.querySelector("img").getAttribute("alt"),e=e.nextElementSibling;return null!=e&&"FIGCAPTION"===e.nodeName&&(t=e.innerText),t||n||null},toHex:function(e){e=Number(e).toString(16);return e.length<2&&(e="0"+e),e}};function x(e){t&&A(),t=setTimeout(function(){l.classList.add("jlb--idle")},m.idleAfter)}function A(){clearTimeout(t),l.classList.remove("jlb--idle")}function k(e){var t;!0===m.closeOnClickAway&&(t=document.querySelector(".jlb--active"),e.target===t&&p.close())}function E(e){var t="";m.escKey&&27===e.keyCode?t="close":m.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,p[t]()))}function S(e){if(!C.hasClass(l,"jlb--open"))return!1;A();var t=document.querySelector(".jlb__item.jlb--active .jlb__img"),n=document.querySelector(".jlb__item.jlb--active .jlb__img-wrap"),r=h.length;i.innerText=1<r&&!0===m.showCounter?d+1+"/"+r:"";var o=t.getAttribute("data-jlb-title");c.innerText=!0===m.showCaption&&o||"";var a=t.naturalWidth,r=t.naturalHeight;g.x=window.innerWidth,g.y=window.innerHeight;o=2*m.contentPaddingX||0,t=2*m.contentPaddingY||0;g.x=Math.min(document.documentElement.clientWidth,window.innerWidth||0)-o,g.y=Math.min(document.documentElement.clientHeight,window.innerHeight||0)-t;t=g.x/a;g.y/r<t?(n.classList.remove("jlb--portrait"),r>g.y?n.setAttribute("style","height:"+g.y+"px;"):n.removeAttribute("style")):(n.classList.add("jlb--portrait"),a>g.x?n.setAttribute("style","width:"+g.x+"px;"):n.removeAttribute("style"))}function T(){var e=.01*Math.min(document.documentElement.clientHeight,window.innerHeight||0);document.documentElement.style.setProperty("--vh","".concat(e,"px"));e=.01*Math.min(document.documentElement.clientWidth,window.innerWidth||0);document.documentElement.style.setProperty("--vw","".concat(e,"px"))}function N(e){M();e=e.changedTouches[0];n=!0,y.X=e.clientX,y.Y=e.clientY,b=setTimeout(function(){f=!1},L)}function H(e){e.cancelable&&!0===n&&(e.preventDefault(),e.stopPropagation(),e=e.changedTouches[0],v={X:e.clientX,Y:e.clientY},_.X=v.X-y.X,_.Y=v.Y-y.Y,e=Math.abs(_.X)-Math.abs(_.Y),Math.abs(e)>=j&&("x"===(u=0<e?"x":"y")?s=0<_.X?"right":"left":"y"===u&&(s=0<_.Y?"down":"up",O(_.Y))))}function B(e){if(!1!==f){e.changedTouches[0];if(Math.abs(_.Y)>w||Math.abs(_.X)>w)switch(s){case"up":case"down":p.close();break;case"left":p.next();break;case"right":p.prev()}n=!1}else O(0)}function I(e){M()}function M(){f=!(n=!1),y={},v={},_={},s=u=null,clearTimeout(b),O(0)}function O(e){if(0===e)return l.style.opacity=null,void(l.style.transform=null);var t=1-Math.abs(e)/300;l.style.opacity=t.toString(),l.style.transform="translateY("+e+"px)"}p.open=function(e){e=e.href;d=C.getIndexFromSrc(e),p.setActiveItem(d),l.classList.add("jlb--open"),T(),S(),O(0),r.classList.add("jlb--lock")},p.next=function(){if(++d>h.length-1){if(!0!==m.loop)return d--,void a.classList.add("jlb--disabled");d=0}p.setActiveItem(d),S()},p.prev=function(){if(--d<0){if(!0!==m.loop)return d++,void o.classList.add("jlb--disabled");d=h.length-1}p.setActiveItem(d),S()},p.close=function(){r.classList.remove("jlb--lock"),l.classList.remove("jlb--open")},p.setActiveItem=function(e){for(var t=document.querySelectorAll(".jlb__item"),n=t.length,r=0;r<n;r++)r!==e?t[r].classList.remove("jlb--active"):t[r].classList.add("jlb--active");1===n?(o.classList.add("jlb--disabled"),a.classList.add("jlb--disabled")):!0!==m.loop&&(0===e?o.classList.add("jlb--disabled"):1==e?o.classList.remove("jlb--disabled"):e==h.length-2?a.classList.remove("jlb--disabled"):e==h.length-1&&a.classList.add("jlb--disabled"))},function(e){var t=document.querySelector(".jlb__root");null===t&&(t=C.createNode("jlb__root"),r=document.querySelector("html"),document.querySelector("body").insertAdjacentElement("beforeend",t)),l=t,function(e){for(var t in m)!0===e.hasOwnProperty(t)&&(m[t]=e[t])}(e),e=document.querySelectorAll(m.selector),e=Array.from(e).filter(function(e){return new RegExp(".*\\.(?:"+m.mediaTypes+")").test(e.href.toLowerCase())}),h=e;for(var n=0;n<h.length;n++)h[n].addEventListener("click",function(e){e.preventDefault(),p.open(this)},!1);e=function(){var e=document.createElement("style"),t="";{var n;null!==m.navHeight&&(n=m.navHeight/2,n="-".concat(n,"px;"),t+=".jlb__nav{height:".concat(m.navHeight,"px;margin-top:").concat(n,"}"))}!0===m.backgroundBlur&&(t+=".jlb__root{backdrop-filter:blur(16px);}");null!==m.backgroundOpacity&&(r=m.backgroundOpacity/100,t+=".jlb__background{opacity:".concat(r,";}"));{var r;null!==m.backgroundColor&&(r=m.backgroundColor,t+=".jlb__background{background-color:".concat(r," !important;}"))}0<m.contentPadding&&(o=m.contentPaddingX||0,a=m.contentPaddingY||0,l=m.frameBorderWidth||null,t+=".jlb__content{\n                    top:".concat(a,"px;\n                    bottom:").concat(a,"px;\n                    left:").concat(o,"px;\n                    right:").concat(o,"px;}"));{var o,a,l;!0===m.frameBorder&&(a=m.frameBorderOpacity<100&&0<=m.frameBorderOpacity?C.toHex(Math.floor(2.55*m.frameBorderOpacity)):"",o=""!==a?(null!==m.frameBorderColor?"background-color: ".concat(m.frameBorderColor):"background-color: #ffffff").concat(a,";"):null!==m.frameBorderColor?"background-color: ".concat(m.frameBorderColor,";"):"",a=""===a&&null!==m.frameBorderColor?"border-color: ".concat(m.frameBorderColor,";"):"",l=m.frameBorderWidth||null,t+=".jlb__img-wrap{".concat(a,";border-width:").concat(l,"px;").concat(o,"}"))}return e.innerHTML=t,e}(),l.insertAdjacentHTML("beforebegin",e.outerHTML),e=function(){var e=C.createNode("root"),t=C.createNode("jlb__background"),n=function(){var e=C.createNode("jlb__content"),t=_createForOfIteratorHelper(h);try{for(t.s();!(n=t.n()).done;){var n=function(e){var t=C.createNode("jlb__item"),n=C.createNode("jlb__frame"),r=C.createNode("jlb__img-wrap"),o=C.createNode("jlb__img","img");o.setAttribute("src",e.href);var a=C.getImageTitle(e);null!==a&&o.setAttribute("data-jlb-title",a);a=e.querySelector("img");null!==a&&(e=a.naturalWidth,a=a.naturalHeight,o.setAttribute("width",e),o.setAttribute("height",a));return r.appendChild(o),n.appendChild(r),t.appendChild(n),t}(n.value);e.appendChild(n)}}catch(e){t.e(e)}finally{t.f()}return e}(),r=C.createNode("jlb__top-bar jlb--controls"),o=C.createNode("jlb__counter","span"),a=C.createNode("jlb__title","span"),l=C.createNode("jlb__close","span");r.appendChild(o),r.appendChild(a),r.appendChild(l);o=C.createNode("jlb__nav jlb__prev jlb--controls"),a=C.createNode("jlb__arrow jlb__arrow-left");o.appendChild(a);l=C.createNode("jlb__nav jlb__next jlb--controls"),a=C.createNode("jlb__arrow jlb__arrow-right");return l.appendChild(a),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.appendChild(l),e}(),l.innerHTML=e.innerHTML,"light"===m.theme&&l.classList.add("jlb--light"),i=document.querySelector(".jlb__counter"),c=document.querySelector(".jlb__title"),window.addEventListener("resize",T),document.querySelector(".jlb__close").addEventListener("click",p.close),(o=document.querySelector(".jlb__prev")).addEventListener("click",p.prev),(a=document.querySelector(".jlb__next")).addEventListener("click",p.next),window.addEventListener("resize",S),window.addEventListener("keydown",E),l.addEventListener("click",k),l.addEventListener("mousemove",x),l.addEventListener("touchstart",N,!1),l.addEventListener("touchmove",H,!1),l.addEventListener("touchend",B,!1),l.addEventListener("touchcancel",I,!1)}(e)},jclbOptions=JCLB.options||{};new CLEARLightbox(jclbOptions);